# CI/CD

- Кто работал с системами CI/CD? И с какими?

Github Actions, Gitlab, Bamboo, CircleCI, Jenkins, Teamcity.

- А зачем нам все это? CI и CD, что это?

удобный релиз + доставка кода.
автоматизация процессов.
тесты сразу как запушили.

Не баш скрипты, а множество баш скриптов + знание людей.

Не надежно + траты человека часов.

CI/CD

цена + штат

Github Actions, Gitlab, Bamboo, CircleCI, Jenkins, Teamcity.

Github Actions и Jenkins - они бесплатные.

- на что можно поделить?

Pipeline - запускать пайплайны(последовательность действий).
Runner - это грубо говоря сервера, где запускаются наши пайплайны.
Features - нотификации, интеграции, удобный интерфейс. Docker registry или npm registiry.

Наше тех. задание.

Создать pipeline со следующими требования:

- собирает проект и запускает наши тесты
- наш пайплайн запускается когда кто-то создает pull-request в ветку main.
- генерирует reports
- генерирует coverage
- нотификацию в Telegram

Как мы запускаем наши пайплайны:

- вручную
- по событию(pull-request, push и т.д.) - e2e тесты будет слишком долго.
- по расписанию - раз в сутки перед или после рабочего дня


Сron

s m H M Y Weekday
* * * * * *

"0 2 * * 1-5"

[16.x]

[14.x, 16.x, 18.x] - такой подход необходим для пакетов nodeJS

- run: npm ci // install
- run: npm run build --if-present // build если надо
- run: npm test
